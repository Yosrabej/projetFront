{
  "ast": null,
  "code": "import * as $ from 'jquery';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common/http\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"@angular/common\";\n\nfunction ProduitsComponent_tr_29_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"tr\");\n    i0.ɵɵtext(1, \"  \\n      \");\n    i0.ɵɵelementStart(2, \"td\");\n    i0.ɵɵelementStart(3, \"input\", 8);\n    i0.ɵɵlistener(\"change\", function ProduitsComponent_tr_29_Template_input_change_3_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r4);\n      const a_r2 = restoredCtx.$implicit;\n      const ctx_r3 = i0.ɵɵnextContext();\n      return ctx_r3.onCheck($event, a_r2, a_r2.id);\n    })(\"ngModelChange\", function ProduitsComponent_tr_29_Template_input_ngModelChange_3_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r4);\n      const a_r2 = restoredCtx.$implicit;\n      return a_r2.select = $event;\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4, \"\\n          \");\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(7, \"\\n          \\n          \");\n    i0.ɵɵelementStart(8, \"td\");\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(10, \"\\n          \");\n    i0.ɵɵelementStart(11, \"td\");\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(13, \"\\n          \");\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const a_r2 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"checked\", a_r2.select)(\"value\", a_r2.id)(\"ngModel\", a_r2.select);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"\", a_r2.nom, \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(a_r2.prix);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(a_r2.categorie);\n  }\n}\n\nfunction ProduitsComponent_div_35_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const a_r6 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"\", a_r6.nom, \"\\n  \");\n  }\n}\n\nexport class ProduitsComponent {\n  constructor(http, route) {\n    this.http = http;\n    this.route = route;\n    this.itemsDetails = {};\n    this.parentSelector = false;\n    this.selected = [];\n    this.url = 'http://httpbin.org/post';\n    this.ROOT_URL = \"http://127.0.0.1:8000\";\n  }\n\n  ngOnInit() {\n    this.produits = this.http.get(this.ROOT_URL + '/produits');\n    const routeParams = this.route.snapshot.paramMap;\n    const productIdFromRoute = Number(routeParams.get('prodId'));\n    this.produit = products.find(product => product.id === productIdFromRoute);\n  }\n\n  onCheck(event, prod, id) {\n    var btn = document.getElementById(\"bt\");\n    var isChecked = event.target.checked;\n    console.log(event, prod);\n\n    if (prod.select) {\n      $('.btn').show();\n      this.selected.push(prod);\n      console.log(this.selected);\n    } else {\n      let index = this.selected.findIndex(e => e.id === id);\n\n      if (index !== -1) {\n        this.selected.splice(index, 1);\n      }\n    }\n\n    if (this.selected.length == 0) {\n      $('.btn').hide();\n    }\n  }\n\n  // this.selected.pull(prod);\n  //}\n  // console.log(this.selected)\n  //this.selected.map((elt)=>{\n  // console.log(elt)\n  // })\n  // console.log( $('input:checkbox').filter(\":checked\").length);\n\n  /*if( $('input:checkbox').filter(\":checked\").length==0){\r\n    $('.btn').hide();\r\n    console.log(this.produits);\r\n    //isChecked=false;\r\n    return false;\r\n  }else{\r\n    this.produits= this.produits.map(x=>x.id);\r\n   $('.btn').show();\r\n  \r\n   return true;\r\n  }\r\n  }*/\n  //confirm(){\n  //alert('confirmer achat');\n  //}\n  acheter() {\n    this.http.post(this.ROOT_URL + '/AddProduitsPanier/:prodId', this.selected).subscribe(data => {\n      console.log(data);\n    });\n  }\n\n}\n\nProduitsComponent.ɵfac = function ProduitsComponent_Factory(t) {\n  return new (t || ProduitsComponent)(i0.ɵɵdirectiveInject(i1.HttpClient), i0.ɵɵdirectiveInject(i2.ActivatedRoute));\n};\n\nProduitsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ProduitsComponent,\n  selectors: [[\"app-produits\"]],\n  decls: 42,\n  vars: 6,\n  consts: [[1, \"container\"], [1, \"row\"], [1, \"col-sm\"], [1, \"table\"], [\"type\", \"checkbox\", 1, \"form-check-input\", 3, \"ngModel\", \"value\", \"ngModelChange\"], [\"scope\", \"col\"], [4, \"ngFor\", \"ngForOf\"], [\"id\", \"bt\", 1, \"btn\", 2, \"display\", \"none\", 3, \"click\"], [\"type\", \"checkbox\", 1, \"form-check-input\", 3, \"checked\", \"value\", \"ngModel\", \"change\", \"ngModelChange\"]],\n  template: function ProduitsComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"p\");\n      i0.ɵɵtext(1, \"produits works!\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(2, \"\\n\\n\");\n      i0.ɵɵelementStart(3, \"div\", 0);\n      i0.ɵɵelementStart(4, \"div\", 1);\n      i0.ɵɵelementStart(5, \"div\", 2);\n      i0.ɵɵtext(6, \"\\n    \");\n      i0.ɵɵelementStart(7, \"table\", 3);\n      i0.ɵɵtext(8, \"\\n        \");\n      i0.ɵɵelementStart(9, \"thead\");\n      i0.ɵɵtext(10, \"\\n            \");\n      i0.ɵɵelementStart(11, \"tr\");\n      i0.ɵɵtext(12, \"  \\n                \");\n      i0.ɵɵelementStart(13, \"th\");\n      i0.ɵɵelementStart(14, \"input\", 4);\n      i0.ɵɵlistener(\"ngModelChange\", function ProduitsComponent_Template_input_ngModelChange_14_listener($event) {\n        return ctx.parentSelector = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(15, \"\\n            \");\n      i0.ɵɵelementStart(16, \"th\", 5);\n      i0.ɵɵtext(17, \"Nom\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(18, \"\\n            \");\n      i0.ɵɵelementStart(19, \"th\", 5);\n      i0.ɵɵtext(20, \"Prix\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(21, \"\\n            \");\n      i0.ɵɵelementStart(22, \"th\", 5);\n      i0.ɵɵtext(23, \"Categorie\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(24, \"\\n          \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(25, \"\\n        \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(26, \"\\n        \");\n      i0.ɵɵelementStart(27, \"tbody\");\n      i0.ɵɵtext(28, \"\\n          \");\n      i0.ɵɵtemplate(29, ProduitsComponent_tr_29_Template, 14, 6, \"tr\", 6);\n      i0.ɵɵpipe(30, \"async\");\n      i0.ɵɵtext(31, \"\\n      \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(32, \"\\n  \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(33, \"div\", 2);\n      i0.ɵɵtext(34, \"\\n  \");\n      i0.ɵɵtemplate(35, ProduitsComponent_div_35_Template, 2, 1, \"div\", 6);\n      i0.ɵɵtext(36, \"\\n  \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(37, \"div\", 2);\n      i0.ɵɵtext(38, \"\\n    \");\n      i0.ɵɵelementStart(39, \"button\", 7);\n      i0.ɵɵlistener(\"click\", function ProduitsComponent_Template_button_click_39_listener() {\n        return ctx.acheter();\n      });\n      i0.ɵɵtext(40, \"acheter\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(41, \"\\n \\n  \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(14);\n      i0.ɵɵproperty(\"ngModel\", ctx.parentSelector)(\"value\", -1);\n      i0.ɵɵadvance(15);\n      i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(30, 4, ctx.produits));\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngForOf\", ctx.selected);\n    }\n  },\n  directives: [i3.CheckboxControlValueAccessor, i3.NgControlStatus, i3.NgModel, i4.NgForOf],\n  pipes: [i4.AsyncPipe],\n  styles: [\"table[_ngcontent-%COMP%]{\\r\\n    width: 400px;\\r\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2R1aXRzLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxZQUFZO0FBQ2hCIiwiZmlsZSI6InByb2R1aXRzLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyJ0YWJsZXtcclxuICAgIHdpZHRoOiA0MDBweDtcclxufVxyXG5cclxuIl19 */\"]\n});",
  "map": {
    "version": 3,
    "sources": ["C:/Users/ybejaoui/Desktop/starter-kit/src/app/produits/produits.component.ts"],
    "names": [
      "$",
      "i0",
      "i1",
      "i2",
      "i3",
      "i4",
      "ProduitsComponent_tr_29_Template",
      "rf",
      "ctx",
      "_r4",
      "ɵɵgetCurrentView",
      "ɵɵelementStart",
      "ɵɵtext",
      "ɵɵlistener",
      "ProduitsComponent_tr_29_Template_input_change_3_listener",
      "$event",
      "restoredCtx",
      "ɵɵrestoreView",
      "a_r2",
      "$implicit",
      "ctx_r3",
      "ɵɵnextContext",
      "onCheck",
      "id",
      "ProduitsComponent_tr_29_Template_input_ngModelChange_3_listener",
      "select",
      "ɵɵelementEnd",
      "ɵɵadvance",
      "ɵɵproperty",
      "ɵɵtextInterpolate1",
      "nom",
      "ɵɵtextInterpolate",
      "prix",
      "categorie",
      "ProduitsComponent_div_35_Template",
      "a_r6",
      "ProduitsComponent",
      "constructor",
      "http",
      "route",
      "itemsDetails",
      "parentSelector",
      "selected",
      "url",
      "ROOT_URL",
      "ngOnInit",
      "produits",
      "get",
      "routeParams",
      "snapshot",
      "paramMap",
      "productIdFromRoute",
      "Number",
      "produit",
      "products",
      "find",
      "product",
      "event",
      "prod",
      "btn",
      "document",
      "getElementById",
      "isChecked",
      "target",
      "checked",
      "console",
      "log",
      "show",
      "push",
      "index",
      "findIndex",
      "e",
      "splice",
      "length",
      "hide",
      "acheter",
      "post",
      "subscribe",
      "data",
      "ɵfac",
      "ProduitsComponent_Factory",
      "t",
      "ɵɵdirectiveInject",
      "HttpClient",
      "ActivatedRoute",
      "ɵcmp",
      "ɵɵdefineComponent",
      "type",
      "selectors",
      "decls",
      "vars",
      "consts",
      "template",
      "ProduitsComponent_Template",
      "ProduitsComponent_Template_input_ngModelChange_14_listener",
      "ɵɵtemplate",
      "ɵɵpipe",
      "ProduitsComponent_Template_button_click_39_listener",
      "ɵɵpipeBind1",
      "directives",
      "CheckboxControlValueAccessor",
      "NgControlStatus",
      "NgModel",
      "NgForOf",
      "pipes",
      "AsyncPipe",
      "styles"
    ],
    "mappings": "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",
    "sourcesContent": [
      "import * as $ from 'jquery';\r\nimport * as i0 from \"@angular/core\";\r\nimport * as i1 from \"@angular/common/http\";\r\nimport * as i2 from \"@angular/router\";\r\nimport * as i3 from \"@angular/forms\";\r\nimport * as i4 from \"@angular/common\";\r\nfunction ProduitsComponent_tr_29_Template(rf, ctx) { if (rf & 1) {\r\n    const _r4 = i0.ɵɵgetCurrentView();\r\n    i0.ɵɵelementStart(0, \"tr\");\r\n    i0.ɵɵtext(1, \"  \\n      \");\r\n    i0.ɵɵelementStart(2, \"td\");\r\n    i0.ɵɵelementStart(3, \"input\", 8);\r\n    i0.ɵɵlistener(\"change\", function ProduitsComponent_tr_29_Template_input_change_3_listener($event) { const restoredCtx = i0.ɵɵrestoreView(_r4); const a_r2 = restoredCtx.$implicit; const ctx_r3 = i0.ɵɵnextContext(); return ctx_r3.onCheck($event, a_r2, a_r2.id); })(\"ngModelChange\", function ProduitsComponent_tr_29_Template_input_ngModelChange_3_listener($event) { const restoredCtx = i0.ɵɵrestoreView(_r4); const a_r2 = restoredCtx.$implicit; return a_r2.select = $event; });\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵtext(4, \"\\n          \");\r\n    i0.ɵɵelementStart(5, \"td\");\r\n    i0.ɵɵtext(6);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵtext(7, \"\\n          \\n          \");\r\n    i0.ɵɵelementStart(8, \"td\");\r\n    i0.ɵɵtext(9);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵtext(10, \"\\n          \");\r\n    i0.ɵɵelementStart(11, \"td\");\r\n    i0.ɵɵtext(12);\r\n    i0.ɵɵelementEnd();\r\n    i0.ɵɵtext(13, \"\\n          \");\r\n    i0.ɵɵelementEnd();\r\n} if (rf & 2) {\r\n    const a_r2 = ctx.$implicit;\r\n    i0.ɵɵadvance(3);\r\n    i0.ɵɵproperty(\"checked\", a_r2.select)(\"value\", a_r2.id)(\"ngModel\", a_r2.select);\r\n    i0.ɵɵadvance(3);\r\n    i0.ɵɵtextInterpolate1(\"\", a_r2.nom, \" \");\r\n    i0.ɵɵadvance(3);\r\n    i0.ɵɵtextInterpolate(a_r2.prix);\r\n    i0.ɵɵadvance(3);\r\n    i0.ɵɵtextInterpolate(a_r2.categorie);\r\n} }\r\nfunction ProduitsComponent_div_35_Template(rf, ctx) { if (rf & 1) {\r\n    i0.ɵɵelementStart(0, \"div\");\r\n    i0.ɵɵtext(1);\r\n    i0.ɵɵelementEnd();\r\n} if (rf & 2) {\r\n    const a_r6 = ctx.$implicit;\r\n    i0.ɵɵadvance(1);\r\n    i0.ɵɵtextInterpolate1(\"\", a_r6.nom, \"\\n  \");\r\n} }\r\nexport class ProduitsComponent {\r\n    constructor(http, route) {\r\n        this.http = http;\r\n        this.route = route;\r\n        this.itemsDetails = {};\r\n        this.parentSelector = false;\r\n        this.selected = [];\r\n        this.url = 'http://httpbin.org/post';\r\n        this.ROOT_URL = \"http://127.0.0.1:8000\";\r\n    }\r\n    ngOnInit() {\r\n        this.produits = this.http.get(this.ROOT_URL + '/produits');\r\n        const routeParams = this.route.snapshot.paramMap;\r\n        const productIdFromRoute = Number(routeParams.get('prodId'));\r\n        this.produit = products.find(product => product.id === productIdFromRoute);\r\n    }\r\n    onCheck(event, prod, id) {\r\n        var btn = document.getElementById(\"bt\");\r\n        var isChecked = event.target.checked;\r\n        console.log(event, prod);\r\n        if (prod.select) {\r\n            $('.btn').show();\r\n            this.selected.push(prod);\r\n            console.log(this.selected);\r\n        }\r\n        else {\r\n            let index = this.selected.findIndex(e => e.id === id);\r\n            if (index !== -1) {\r\n                this.selected.splice(index, 1);\r\n            }\r\n        }\r\n        if (this.selected.length == 0) {\r\n            $('.btn').hide();\r\n        }\r\n    }\r\n    ;\r\n    // this.selected.pull(prod);\r\n    //}\r\n    // console.log(this.selected)\r\n    //this.selected.map((elt)=>{\r\n    // console.log(elt)\r\n    // })\r\n    // console.log( $('input:checkbox').filter(\":checked\").length);\r\n    /*if( $('input:checkbox').filter(\":checked\").length==0){\r\n      $('.btn').hide();\r\n      console.log(this.produits);\r\n      //isChecked=false;\r\n      return false;\r\n    }else{\r\n      this.produits= this.produits.map(x=>x.id);\r\n     $('.btn').show();\r\n    \r\n     return true;\r\n    }\r\n   }*/\r\n    //confirm(){\r\n    //alert('confirmer achat');\r\n    //}\r\n    acheter() {\r\n        this.http.post(this.ROOT_URL + '/AddProduitsPanier/:prodId', this.selected).subscribe(data => {\r\n            console.log(data);\r\n        });\r\n    }\r\n}\r\nProduitsComponent.ɵfac = function ProduitsComponent_Factory(t) { return new (t || ProduitsComponent)(i0.ɵɵdirectiveInject(i1.HttpClient), i0.ɵɵdirectiveInject(i2.ActivatedRoute)); };\r\nProduitsComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: ProduitsComponent, selectors: [[\"app-produits\"]], decls: 42, vars: 6, consts: [[1, \"container\"], [1, \"row\"], [1, \"col-sm\"], [1, \"table\"], [\"type\", \"checkbox\", 1, \"form-check-input\", 3, \"ngModel\", \"value\", \"ngModelChange\"], [\"scope\", \"col\"], [4, \"ngFor\", \"ngForOf\"], [\"id\", \"bt\", 1, \"btn\", 2, \"display\", \"none\", 3, \"click\"], [\"type\", \"checkbox\", 1, \"form-check-input\", 3, \"checked\", \"value\", \"ngModel\", \"change\", \"ngModelChange\"]], template: function ProduitsComponent_Template(rf, ctx) { if (rf & 1) {\r\n        i0.ɵɵelementStart(0, \"p\");\r\n        i0.ɵɵtext(1, \"produits works!\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵtext(2, \"\\n\\n\");\r\n        i0.ɵɵelementStart(3, \"div\", 0);\r\n        i0.ɵɵelementStart(4, \"div\", 1);\r\n        i0.ɵɵelementStart(5, \"div\", 2);\r\n        i0.ɵɵtext(6, \"\\n    \");\r\n        i0.ɵɵelementStart(7, \"table\", 3);\r\n        i0.ɵɵtext(8, \"\\n        \");\r\n        i0.ɵɵelementStart(9, \"thead\");\r\n        i0.ɵɵtext(10, \"\\n            \");\r\n        i0.ɵɵelementStart(11, \"tr\");\r\n        i0.ɵɵtext(12, \"  \\n                \");\r\n        i0.ɵɵelementStart(13, \"th\");\r\n        i0.ɵɵelementStart(14, \"input\", 4);\r\n        i0.ɵɵlistener(\"ngModelChange\", function ProduitsComponent_Template_input_ngModelChange_14_listener($event) { return ctx.parentSelector = $event; });\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵtext(15, \"\\n            \");\r\n        i0.ɵɵelementStart(16, \"th\", 5);\r\n        i0.ɵɵtext(17, \"Nom\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵtext(18, \"\\n            \");\r\n        i0.ɵɵelementStart(19, \"th\", 5);\r\n        i0.ɵɵtext(20, \"Prix\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵtext(21, \"\\n            \");\r\n        i0.ɵɵelementStart(22, \"th\", 5);\r\n        i0.ɵɵtext(23, \"Categorie\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵtext(24, \"\\n          \");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵtext(25, \"\\n        \");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵtext(26, \"\\n        \");\r\n        i0.ɵɵelementStart(27, \"tbody\");\r\n        i0.ɵɵtext(28, \"\\n          \");\r\n        i0.ɵɵtemplate(29, ProduitsComponent_tr_29_Template, 14, 6, \"tr\", 6);\r\n        i0.ɵɵpipe(30, \"async\");\r\n        i0.ɵɵtext(31, \"\\n      \");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵtext(32, \"\\n  \");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(33, \"div\", 2);\r\n        i0.ɵɵtext(34, \"\\n  \");\r\n        i0.ɵɵtemplate(35, ProduitsComponent_div_35_Template, 2, 1, \"div\", 6);\r\n        i0.ɵɵtext(36, \"\\n  \");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementStart(37, \"div\", 2);\r\n        i0.ɵɵtext(38, \"\\n    \");\r\n        i0.ɵɵelementStart(39, \"button\", 7);\r\n        i0.ɵɵlistener(\"click\", function ProduitsComponent_Template_button_click_39_listener() { return ctx.acheter(); });\r\n        i0.ɵɵtext(40, \"acheter\");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵtext(41, \"\\n \\n  \");\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n        i0.ɵɵelementEnd();\r\n    } if (rf & 2) {\r\n        i0.ɵɵadvance(14);\r\n        i0.ɵɵproperty(\"ngModel\", ctx.parentSelector)(\"value\", -1);\r\n        i0.ɵɵadvance(15);\r\n        i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(30, 4, ctx.produits));\r\n        i0.ɵɵadvance(6);\r\n        i0.ɵɵproperty(\"ngForOf\", ctx.selected);\r\n    } }, directives: [i3.CheckboxControlValueAccessor, i3.NgControlStatus, i3.NgModel, i4.NgForOf], pipes: [i4.AsyncPipe], styles: [\"table[_ngcontent-%COMP%]{\\r\\n    width: 400px;\\r\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2R1aXRzLmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxZQUFZO0FBQ2hCIiwiZmlsZSI6InByb2R1aXRzLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyJ0YWJsZXtcclxuICAgIHdpZHRoOiA0MDBweDtcclxufVxyXG5cclxuIl19 */\"] });\r\n"
    ]
  },
  "metadata": {},
  "sourceType": "module"
}
